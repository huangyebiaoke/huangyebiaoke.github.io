{"title":"扔骰（tou）子小游戏","slug":"make-dice-game","date":"2017-10-05T14:09:18.000Z","updated":"2020-08-31T21:45:49.319Z","comments":true,"path":"api/articles/make-dice-game.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p>这些天没什么事读了《HTML5游戏开发》这本书，做一下实例：</p>\n<h3 id=\"demo1\"><a href=\"#demo1\" class=\"headerlink\" title=\"demo1:\"></a>demo1:</h3><pre><code class=\"javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;craps&lt;/title&gt;\n    &lt;script&gt;\n        function init() {\n            var ctx=document.getElementById(&quot;canvas&quot;).getContext(&#39;2d&#39;);\n            ctx.beginPath();\n\n            ctx.fillStyle = &quot;rgb(200,0,200)&quot;;\n            ctx.arc(200,20,200,0,0.5*Math.PI,true);\n            ctx.lineWidth=5;\n            ctx.closePath();\n            ctx.strokeStyle = &quot;rgb(200,0,0)&quot;;\n            ctx.stroke();\n            ctx.fill();\n\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=&quot;init();&quot; &gt;\n    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;background-color: aqua;&quot;&gt;\n      your explor don&#39;t support h5 cavas\n    &lt;/canvas&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<h3 id=\"demo2\"><a href=\"#demo2\" class=\"headerlink\" title=\"demo2:\"></a>demo2:</h3><pre><code class=\"javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;craps&lt;/title&gt;\n    &lt;script&gt;\n        var sw=50;//骰子的宽高\n        var sh=50;\n        var cw=400;//画布的宽高\n        var ch=300;\n        var sx=50;//骰子的距画布的位置\n        var sy=50;\n        var pd=6;//圆点半径\n        var ctx;//保存上下文变量\n        function init() {\n            //var rs=1+math.floor(math.random()*6);\n            var rs=5;\n            drewface(rs);\n        }\n\n\n            function drewface(n) {\n                ctx=document.getElementById(&quot;canvas&quot;).getContext(&#39;2d&#39;);\n                ctx.lineWidth=5;\n                ctx.clearRect(sx,sy,sw,sh);\n                ctx.strokeRect(sx,sy,sw,sh);\n                ctx.fillStyle = &quot;rgb(0,0,0)&quot;;\n                switch (n){\n                    case 1: drew1(); break;\n                    case 2: drew2(); break;\n                    case 3: drew2(); drew1();  break;\n                    case 4: drew4();  break;\n                    case 5: drew4(); drew1(); break;\n                    case 6: drew4(); drew2mid(); break;\n                }\n\n                /*ctx.beginPath();\n\n                ctx.arc(200,20,200,0,0.5*Math.PI,true);\n                ctx.lineWidth=5;\n                ctx.closePath();\n                ctx.strokeStyle = &quot;rgb(200,0,0)&quot;;\n                ctx.stroke();\n                ctx.fill();*/\n                function drew1() {\n                    var px=sx+0.5*sw;\n                    var py=sy+0.5*sh;\n                    ctx.beginPath();\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.fill();\n                }\n                function drew2() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew4() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+3+pd;\n                    py=sy+sh-3-pd;\n                    ctx.closePath();/*注意要先结束左上角和右下角圆点的绘制不然会产生交叉感染*/\n                    ctx.fill();\n                    ctx.beginPath()\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew2mid() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n            }\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=&quot;init();&quot; &gt;\n    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;\n      your explor don&#39;t support h5 cavas\n    &lt;/canvas&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<h3 id=\"demo3\"><a href=\"#demo3\" class=\"headerlink\" title=\"demo3:\"></a>demo3:</h3><pre><code class=\"javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;craps&lt;/title&gt;\n    &lt;script&gt;\n        var sw=50;//骰子的宽高\n        var sh=50;\n        var cw=400;//画布的宽高\n        var ch=300;\n        var sx=50;//骰子的距画布的位置\n        var sy=50;\n        var pd=6;//圆点半径\n        var ctx;//保存上下文变量\n        function init() {\n            var rs=1+Math.floor(Math.random()*6);\n            drewface(rs);\n            document.f.point.value=rs;\n        }\n\n\n            function drewface(n) {\n                ctx=document.getElementById(&quot;canvas&quot;).getContext(&#39;2d&#39;);\n                ctx.lineWidth=5;\n                ctx.clearRect(sx,sy,sw,sh);\n                ctx.strokeRect(sx,sy,sw,sh);\n                ctx.fillStyle = &quot;rgb(0,0,0)&quot;;\n                switch (n){\n                    case 1: drew1(); break;\n                    case 2: drew2(); break;\n                    case 3: drew2(); drew1();  break;\n                    case 4: drew4();  break;\n                    case 5: drew4(); drew1(); break;\n                    case 6: drew4(); drew2mid(); break;\n                }\n\n                /*ctx.beginPath();\n\n                ctx.arc(200,20,200,0,0.5*Math.PI,true);\n                ctx.lineWidth=5;\n                ctx.closePath();\n                ctx.strokeStyle = &quot;rgb(200,0,0)&quot;;\n                ctx.stroke();\n                ctx.fill();*/\n                function drew1() {\n                    var px=sx+0.5*sw;\n                    var py=sy+0.5*sh;\n                    ctx.beginPath();\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.fill();\n                }\n                function drew2() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew4() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+3+pd;\n                    py=sy+sh-3-pd;\n                    ctx.closePath();/*注意要先结束左上角和右下角圆点的绘制不然会产生交叉感染*/\n                    ctx.fill();\n                    ctx.beginPath()\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew2mid() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n            }\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=&quot;init();&quot; &gt;\n    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;\n      your explor don&#39;t support h5 cavas\n    &lt;/canvas&gt;\n    &lt;form name=&quot;f&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;扔骰子&quot;&gt;\n        你的点数是&lt;input name=&quot;point&quot; type=&quot;text&quot; value=&quot; &quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p>附：<br>1.<a href=\"http://www.friendsofed.com/downloads.html\" target=\"_blank\" rel=\"noopener\">The Essential Guide to HTML5—using games to learn html5 and javascript</a></p>\n","more":"<p>这些天没什么事读了《HTML5游戏开发》这本书，做一下实例：</p>\n<h3 id=\"demo1\"><a href=\"#demo1\" class=\"headerlink\" title=\"demo1:\"></a>demo1:</h3><pre><code class=\"javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;craps&lt;/title&gt;\n    &lt;script&gt;\n        function init() {\n            var ctx=document.getElementById(&quot;canvas&quot;).getContext(&#39;2d&#39;);\n            ctx.beginPath();\n\n            ctx.fillStyle = &quot;rgb(200,0,200)&quot;;\n            ctx.arc(200,20,200,0,0.5*Math.PI,true);\n            ctx.lineWidth=5;\n            ctx.closePath();\n            ctx.strokeStyle = &quot;rgb(200,0,0)&quot;;\n            ctx.stroke();\n            ctx.fill();\n\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=&quot;init();&quot; &gt;\n    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot; style=&quot;background-color: aqua;&quot;&gt;\n      your explor don&#39;t support h5 cavas\n    &lt;/canvas&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<h3 id=\"demo2\"><a href=\"#demo2\" class=\"headerlink\" title=\"demo2:\"></a>demo2:</h3><pre><code class=\"javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;craps&lt;/title&gt;\n    &lt;script&gt;\n        var sw=50;//骰子的宽高\n        var sh=50;\n        var cw=400;//画布的宽高\n        var ch=300;\n        var sx=50;//骰子的距画布的位置\n        var sy=50;\n        var pd=6;//圆点半径\n        var ctx;//保存上下文变量\n        function init() {\n            //var rs=1+math.floor(math.random()*6);\n            var rs=5;\n            drewface(rs);\n        }\n\n\n            function drewface(n) {\n                ctx=document.getElementById(&quot;canvas&quot;).getContext(&#39;2d&#39;);\n                ctx.lineWidth=5;\n                ctx.clearRect(sx,sy,sw,sh);\n                ctx.strokeRect(sx,sy,sw,sh);\n                ctx.fillStyle = &quot;rgb(0,0,0)&quot;;\n                switch (n){\n                    case 1: drew1(); break;\n                    case 2: drew2(); break;\n                    case 3: drew2(); drew1();  break;\n                    case 4: drew4();  break;\n                    case 5: drew4(); drew1(); break;\n                    case 6: drew4(); drew2mid(); break;\n                }\n\n                /*ctx.beginPath();\n\n                ctx.arc(200,20,200,0,0.5*Math.PI,true);\n                ctx.lineWidth=5;\n                ctx.closePath();\n                ctx.strokeStyle = &quot;rgb(200,0,0)&quot;;\n                ctx.stroke();\n                ctx.fill();*/\n                function drew1() {\n                    var px=sx+0.5*sw;\n                    var py=sy+0.5*sh;\n                    ctx.beginPath();\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.fill();\n                }\n                function drew2() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew4() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+3+pd;\n                    py=sy+sh-3-pd;\n                    ctx.closePath();/*注意要先结束左上角和右下角圆点的绘制不然会产生交叉感染*/\n                    ctx.fill();\n                    ctx.beginPath()\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew2mid() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n            }\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=&quot;init();&quot; &gt;\n    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;\n      your explor don&#39;t support h5 cavas\n    &lt;/canvas&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<h3 id=\"demo3\"><a href=\"#demo3\" class=\"headerlink\" title=\"demo3:\"></a>demo3:</h3><pre><code class=\"javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;craps&lt;/title&gt;\n    &lt;script&gt;\n        var sw=50;//骰子的宽高\n        var sh=50;\n        var cw=400;//画布的宽高\n        var ch=300;\n        var sx=50;//骰子的距画布的位置\n        var sy=50;\n        var pd=6;//圆点半径\n        var ctx;//保存上下文变量\n        function init() {\n            var rs=1+Math.floor(Math.random()*6);\n            drewface(rs);\n            document.f.point.value=rs;\n        }\n\n\n            function drewface(n) {\n                ctx=document.getElementById(&quot;canvas&quot;).getContext(&#39;2d&#39;);\n                ctx.lineWidth=5;\n                ctx.clearRect(sx,sy,sw,sh);\n                ctx.strokeRect(sx,sy,sw,sh);\n                ctx.fillStyle = &quot;rgb(0,0,0)&quot;;\n                switch (n){\n                    case 1: drew1(); break;\n                    case 2: drew2(); break;\n                    case 3: drew2(); drew1();  break;\n                    case 4: drew4();  break;\n                    case 5: drew4(); drew1(); break;\n                    case 6: drew4(); drew2mid(); break;\n                }\n\n                /*ctx.beginPath();\n\n                ctx.arc(200,20,200,0,0.5*Math.PI,true);\n                ctx.lineWidth=5;\n                ctx.closePath();\n                ctx.strokeStyle = &quot;rgb(200,0,0)&quot;;\n                ctx.stroke();\n                ctx.fill();*/\n                function drew1() {\n                    var px=sx+0.5*sw;\n                    var py=sy+0.5*sh;\n                    ctx.beginPath();\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.fill();\n                }\n                function drew2() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew4() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+sh-3-pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+3+pd;\n                    py=sy+sh-3-pd;\n                    ctx.closePath();/*注意要先结束左上角和右下角圆点的绘制不然会产生交叉感染*/\n                    ctx.fill();\n                    ctx.beginPath()\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+3+pd;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n                function drew2mid() {\n                    var px;\n                    var py;\n                    ctx.beginPath()\n                    px=sx+3+pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    px=sx+sw-3-pd;\n                    py=sy+0.5*sh;\n                    ctx.arc(px,py,pd,0,2*Math.PI,true);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n            }\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=&quot;init();&quot; &gt;\n    &lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;\n      your explor don&#39;t support h5 cavas\n    &lt;/canvas&gt;\n    &lt;form name=&quot;f&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;扔骰子&quot;&gt;\n        你的点数是&lt;input name=&quot;point&quot; type=&quot;text&quot; value=&quot; &quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p>附：<br>1.<a href=\"http://www.friendsofed.com/downloads.html\" target=\"_blank\" rel=\"noopener\">The Essential Guide to HTML5—using games to learn html5 and javascript</a></p>\n","categories":[],"tags":[{"name":"JS","path":"api/tags/JS.json"},{"name":"H5","path":"api/tags/H5.json"},{"name":"canvas","path":"api/tags/canvas.json"}]}